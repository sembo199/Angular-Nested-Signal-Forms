<form (submit)="onSubmit($event)">
    <h2>Welcome to SignalForms</h2>
    <p>This is the parent component with nested forms.</p>
    <app-number-form-item label="UserId" [field]="userForm.id" />
    <app-text-form-item label="Email" type="email" [field]="userForm.email" />
    <app-text-form-item label="Username" [field]="userForm.username" />
    <app-text-form-item label="Password" type="password" [field]="userForm.password" />
    <app-details-form [detailsForm]="userForm.details" />
    <app-address-form [detailsForm]="userForm.address" />
    <h3>Hobbies</h3>
    <button class="button-full" type="button" (click)="addHobby()">Add Hobby</button>
    @for (hobbyForm of userForm.hobbies; track hobbyForm; let idx = $index) {
        <app-hobby-form [hobbyForm]="hobbyForm" [index]="idx" (remove)="removeHobby(idx)" />
    } @empty {
        <p class="no-hobbies">No hobbies added yet.</p>
    }
    <button class="submit-button" [disabled]="this.userForm().invalid()">Submit</button>
    <button class="console-button" type="button" (click)="logToConsole()">Log to console</button>
</form>

<section class="overview-section">
    <h3>User Galaxy</h3>
    <p class="overview-copy">The canvas below maps each user into an orbital layout with quick insights.</p>
    <app-user-canvas-overview [users]="users()" />
</section>

<app-user-list [users]="users()" />